<div class="container"
     fxLayout="row"
     fxLayoutAlign="center center">

  <div class="content"
       fxLayout="column"
       fxLayoutAlign="center center">
    <form [formGroup]="form"
          fxLayout="row wrap">

      <app-input-element title="width"
                         formControlName="width"
                         placeholder="width"
                         label="width"
                         (inputValue)="updateParametersValues()"></app-input-element>
      <app-input-element title="height"
                         formControlName="height"
                         placeholder="height"
                         label="height"
                         (inputValue)="updateParametersValues()"></app-input-element>

      <button (click)="createText()">New text</button>

      <ng-container formArrayName="texts">
        <div *ngFor="let group of (texts?.controls || []); index as i"
             [formGroup]="group"
             fxFlex="100"
             fxLayout="row wrap">
          <app-textarea-element title="title"
                             fxFlex="100"
                             formControlName="title"
                             placeholder="title"
                             label="title"
                             (inputValue)="renderText(i)"></app-textarea-element>
          <app-color-picker formControlName="titleBackgroundColor"
                            titleText="title background"
                            (colorChange)="renderText(i)"></app-color-picker>
          <app-color-picker formControlName="titleTextColor"
                            titleText="title color"
                            (colorChange)="renderText(i)"></app-color-picker>
          <button (click)="removeText(group.get('id').value)">remove</button>
        </div>
      </ng-container>
    </form>

    <canvas #bannerCanvas
            (mousedown)="onClickDown($event)"
            (mouseup)="onClickUp($event)"
            (mousemove)="onMouseMove($event)"
            [width]="widthValue"
            [height]="heightValue"></canvas>
  </div>

</div>
